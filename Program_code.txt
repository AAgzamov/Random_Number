#include <iostream>
#include <ctime>
using namespace std;

void intro() {
	cout << "\n\n\t~~~~~~ Created by AAgzamov on March 13th, 2021 ~~~~~~\n\n\n";
}
void directions() {
	cout << "Hello, player! This is a game -- called \"Random Number\" -- where you have to guess the number generated by a computer in a range from 0 to 15."
		<< "\nLet's call that number \"x\"."
		<< "\nYou have 3 chances to guess what \"x\" is.\n"  
		 << "For each wrong guess you will have a hint.\n\n";

}
void genius() {
	cout << "Wow! One shot, one kill! You're lucky!\n";
}
int generate() {
	int number = rand() % 15;
	return number;

}


int main() {
	intro();
	srand(time(NULL)); //Everytime different numbers are generated
	
	directions();
	cout << "Let's start!\n";

	int x;
	int player;
	string a;
	int games = 0; int score = 0;



	while (true) {
		games++;
		cout << "\nGenerating \"x\" ...\n\n";
		x = generate();
		
		//This is first attempt
		cout << "First attempt. Please enter \"x\": "; cin >> player;
		if (x > player) {
			cout << "\"x\" is greater than you suppose.\n";
		}
		else if (x < player) {
			cout << "\"x\" is lower that you suppose.\n";
		}
		else if (x == player) {
			genius();
			score++;
			cout << "\nDo you want to try again [y/n]? "; cin >> a;
			if (a == "y") {
				continue;
			}
			else if (a == "n") {
				break;
			}
			else {
				break;
			}
		}


		//This is second attempt
		cout << "Second attempt. Please enter \"x\": "; cin >> player;
		if (x > player) {
			cout << "\"x\" is greater than you suppose.\n";
		}
		else if (x < player) {
			cout << "\"x\" is lower that you suppose.\n";
		}
		//If you win
		else if (x == player) {
			score++;
			cout << "You have won!\n";
			cout << "\nDo you want to try again [y/n]? "; cin >> a;
			if (a == "y") {
				continue;
			}
			else if (a == "n") {
				break;
			}
			else {
				break;
			}
		}
		

		//This is third attempt
		cout << "Third attempt. Please enter \"x\": "; cin >> player;
		//If you win
		if (x == player) {
			score++;
			cout << "You have won!\n";
			cout << "\nDo you want to try again [y/n]? "; cin >> a;
			if (a == "y") {
				continue;
			}
			else if (a == "n") {
				break;
			}
			else {
				break;
			}
		}
		//If you lose
		else if (x != player) {
			cout << "You have lost!\n";
			cout << "\"x\" is " << x << "\n";
			cout << "\nDo you want to try again [y/n]? "; cin >> a;
			if (a == "y") {
				continue;
			}
			else if (a == "n") {
				break;
			}
			else {
				break;
			}
		}
		

	}




	if (score == 1 && games==1) {
		cout << "\nYou have won 1 game out of 1 game.";
	}
	else if (score == 1 && games!=1) {
		cout << "\nYou have won 1 game out of " << games << " games.";
	}
	else if (score == 0 && games==1) {
		cout << "\nYou have won 0 games out of 1 game.";
	}
	else {
		cout << "\nYou have won " << score << " games out of " << games << " games.";
	}

	cout << "\n\nIf you want to play again restart the program.\n\n";
	system("pause");
}
